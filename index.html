<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neural IP Analyzer | Cyber Security & Privacy Tool</title>
    <style>
        /* Advanced Cyberpunk theme with futuristic elements */
        :root {
            --neon-cyan: #0ff;
            --neon-purple: #f0f;
            --neon-green: #0f0;
            --neon-red: #f00;
            --neon-blue: #00f;
            --dark-bg: #000;
            --panel-bg: rgba(0, 0, 0, 0.85);
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Orbitron', 'Courier New', monospace;
            background-color: var(--dark-bg);
            color: var(--neon-cyan);
            overflow-x: hidden;
            position: relative;
            min-height: 100vh;
        }
        /* Advanced glitch effect */
        @keyframes glitch {
            0% {
                text-shadow: 0.05em 0 0 var(--neon-red), -0.03em 0 0 var(--neon-green), -0.04em 0 0 var(--neon-blue);
                transform: translate(0);
            }
            14% {
                text-shadow: 0.05em 0 0 var(--neon-red), -0.03em 0 0 var(--neon-green), -0.04em 0 0 var(--neon-blue);
                transform: translate(0);
            }
            15% {
                text-shadow: -0.05em 0 0 var(--neon-red), 0.025em 0 0 var(--neon-green), 0.05em 0 0 var(--neon-blue);
                transform: translate(-0.025em, 0.01em);
            }
            49% {
                text-shadow: -0.05em 0 0 var(--neon-red), 0.025em 0 0 var(--neon-green), 0.05em 0 0 var(--neon-blue);
                transform: translate(-0.025em, 0.01em);
            }
            50% {
                text-shadow: 0.05em 0 0 var(--neon-red), 0.03em 0 0 var(--neon-green), 0.04em 0 0 var(--neon-blue);
                transform: translate(0.015em, -0.01em);
            }
            99% {
                text-shadow: 0.05em 0 0 var(--neon-red), 0.03em 0 0 var(--neon-green), 0.04em 0 0 var(--neon-blue);
                transform: translate(0.015em, -0.01em);
            }
            100% {
                text-shadow: -0.05em 0 0 var(--neon-red), -0.025em 0 0 var(--neon-green), -0.04em 0 0 var(--neon-blue);
                transform: translate(0);
            }
        }
        h1, h2, h3 {
            animation: glitch 5s infinite;
            text-align: center;
            margin-bottom: 20px;
        }
        /* Main container with advanced styling */
        .container {
            position: relative;
            z-index: 2;
            max-width: 800px;
            margin: 30px auto;
            padding: 25px;
            background: var(--panel-bg);
            border: 2px solid var(--neon-purple);
            box-shadow: 0 0 25px var(--neon-purple);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        /* Input and buttons with enhanced styling */
        input, button, select, textarea {
            display: block;
            width: 100%;
            margin: 15px 0;
            padding: 12px;
            background: rgba(17, 17, 17, 0.8);
            color: var(--neon-cyan);
            border: 1px solid var(--neon-cyan);
            border-radius: 8px;
            box-shadow: 0 0 10px var(--neon-cyan);
            transition: all 0.3s ease;
            font-family: 'Orbitron', monospace;
        }
        button {
            background: linear-gradient(45deg, rgba(0, 255, 255, 0.1), rgba(255, 0, 255, 0.1));
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        button:hover {
            box-shadow: 0 0 20px var(--neon-cyan);
            transform: translateY(-2px);
        }
        button:active {
            transform: translateY(1px);
        }
        button::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }
        button:hover::after {
            left: 100%;
        }
        /* Result display with advanced styling */
        .result-panel {
            margin-top: 20px;
            padding: 15px;
            background: rgba(34, 34, 34, 0.9);
            border: 1px solid var(--neon-red);
            box-shadow: 0 0 15px var(--neon-red);
            border-radius: 10px;
            position: relative;
            overflow: hidden;
        }
        .result-panel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, var(--neon-red), var(--neon-purple), var(--neon-cyan));
            animation: scanline 2s linear infinite;
        }
        @keyframes scanline {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        a {
            color: var(--neon-purple);
            text-decoration: none;
            transition: all 0.3s;
        }
        a:hover {
            text-decoration: underline;
            text-shadow: 0 0 10px var(--neon-purple);
        }
        /* Section management */
        .section {
            display: none;
        }
        #menu {
            display: block;
        }
        /* Enhanced background with futuristic elements */
        .background-elements {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
        }
        .cyber-grid {
            position: absolute;
            width: 100%;
            height: 100%;
            background-image:
                linear-gradient(rgba(0, 255, 255, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 255, 255, 0.1) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: gridMove 20s linear infinite;
        }
        @keyframes gridMove {
            0% { transform: translate(0, 0); }
            100% { transform: translate(50px, 50px); }
        }
        .hologram-element {
            position: absolute;
            width: 200px;
            height: 200px;
            background: transparent;
            border: 2px solid var(--neon-green);
            box-shadow: 0 0 20px var(--neon-green);
            animation: hologramFloat 15s infinite ease-in-out;
            opacity: 0.3;
            clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
        }
        @keyframes hologramFloat {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }
        .data-stream {
            position: absolute;
            color: var(--neon-green);
            font-family: 'Courier New', monospace;
            font-size: 14px;
            white-space: nowrap;
            animation: dataFlow 20s linear infinite;
            opacity: 0.7;
        }
        @keyframes dataFlow {
            0% { transform: translateY(100vh); }
            100% { transform: translateY(-100vh); }
        }
        /* Progress bar for loading states */
        .progress-bar {
            width: 100%;
            height: 5px;
            background: rgba(0, 255, 255, 0.2);
            border-radius: 5px;
            overflow: hidden;
            margin: 10px 0;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--neon-cyan), var(--neon-purple));
            width: 0%;
            transition: width 0.5s ease;
        }
        /* Info panels with advanced styling */
        .info-panel {
            background: rgba(0, 0, 0, 0.7);
            border: 1px solid var(--neon-blue);
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            box-shadow: 0 0 10px var(--neon-blue);
        }
        /* IP Logger specific styles */
        .logger-link {
            word-break: break-all;
            padding: 10px;
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid var(--neon-green);
            border-radius: 5px;
            margin: 10px 0;
        }
        .logger-results {
            max-height: 300px;
            overflow-y: auto;
            margin-top: 15px;
        }
        .log-entry {
            padding: 8px;
            margin: 5px 0;
            background: rgba(0, 0, 0, 0.5);
            border-left: 3px solid var(--neon-purple);
        }
        .url-input-container {
            display: flex;
            gap: 10px;
        }
        .url-input-container input {
            flex: 1;
        }
        .url-input-container button {
            width: auto;
            flex: 0 0 100px;
        }
        .tracking-stats {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
        }
        .stat-box {
            flex: 1;
            text-align: center;
            padding: 10px;
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid var(--neon-cyan);
            border-radius: 5px;
            margin: 0 5px;
        }
        .stat-number {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--neon-green);
        }
        .short-url {
            background: rgba(0, 0, 0, 0.7);
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            border: 1px solid var(--neon-purple);
        }
        .logger-actions {
            display: flex;
            gap: 10px;
            margin: 10px 0;
        }
        .logger-actions button {
            flex: 1;
        }
        /* Responsive design */
        @media (max-width: 768px) {
            .container {
                margin: 15px;
                padding: 15px;
            }
           
            h1 {
                font-size: 1.5rem;
            }
           
            h2 {
                font-size: 1.2rem;
            }
            .url-input-container {
                flex-direction: column;
            }
            .url-input-container button {
                width: 100%;
            }
            .tracking-stats {
                flex-direction: column;
            }
            .stat-box {
                margin: 5px 0;
            }
            .logger-actions {
                flex-direction: column;
            }
        }
        /* Dark mode toggle */
        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 100;
            background: var(--panel-bg);
            border: 1px solid var(--neon-cyan);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 0 10px var(--neon-cyan);
            transition: all 0.3s;
        }
        .theme-toggle:hover {
            transform: rotate(180deg);
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Advanced background elements -->
    <div class="background-elements">
        <div class="cyber-grid"></div>
        <div class="hologram-element" style="top: 10%; left: 5%;"></div>
        <div class="hologram-element" style="top: 70%; left: 80%; width: 150px; height: 150px; border-color: var(--neon-purple); box-shadow: 0 0 20px var(--neon-purple);"></div>
        <div class="hologram-element" style="top: 30%; left: 70%; width: 100px; height: 100px; border-color: var(--neon-red); box-shadow: 0 0 20px var(--neon-red);"></div>
       
        <!-- Data streams -->
        <div class="data-stream" style="left: 10%; animation-delay: 0s;">01010101 01101001 00100000 01100001 01101110 01100001 01101100 01111001 01111010 01100101 01110010</div>
        <div class="data-stream" style="left: 30%; animation-delay: -5s;">01110011 01100101 01100011 01110101 01110010 01101001 01110100 01111001 00100000 01110000 01110010 01101111 01110100 01101111 01100011 01101111 01101100</div>
        <div class="data-stream" style="left: 60%; animation-delay: -10s;">01101001 01101110 01100110 01101111 01110010 01101101 01100001 01110100 01101001 01101111 01101110 00100000 01110000 01110010 01101001 01110110 01100001 01100011 01111001</div>
        <div class="data-stream" style="left: 85%; animation-delay: -15s;">01100100 01100101 01100011 01100101 01101110 01110100 01110010 01100001 01101100 01101001 01111010 01100101 01100100 00100000 01101110 01100101 01110100 01110111 01101111 01110010 01101011</div>
    </div>
    <!-- Theme toggle -->
    <div class="theme-toggle" onclick="toggleTheme()">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16Z" stroke="var(--neon-cyan)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M12 2V4" stroke="var(--neon-cyan)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M12 20V22" stroke="var(--neon-cyan)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M4.93 4.93L6.34 6.34" stroke="var(--neon-cyan)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M17.66 17.66L19.07 19.07" stroke="var(--neon-cyan)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M2 12H4" stroke="var(--neon-cyan)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M20 12H22" stroke="var(--neon-cyan)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M6.34 17.66L4.93 19.07" stroke="var(--neon-cyan)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M19.07 4.93L17.66 6.34" stroke="var(--neon-cyan)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </div>
    <div class="container">
        <h1>NEURAL IP ANALYZER</h1>
        <p style="text-align: center; margin-bottom: 20px;">Advanced Cyber Security & Privacy Tool</p>
        <!-- Main Menu -->
        <div id="menu" class="section">
            <h2>SELECT FUNCTION</h2>
            <button onclick="showSection('ip-check')">IP Location & Security Analysis</button>
            <button onclick="showSection('ip-generate')">Generate Secure IP Address</button>
            <button onclick="showSection('privacy-tips')">Digital Privacy Tips</button>
            <button onclick="showSection('network-scan')">Network Security Scan</button>
            <button onclick="showSection('ip-logger')">IP Logger</button>
           
            <div class="info-panel">
                <h3>About This Tool</h3>
                <p>This advanced IP analyzer helps you understand your digital footprint and improve your online security. All data is processed locally for maximum privacy.</p>
            </div>
        </div>
        <!-- IP Check Section -->
        <div id="ip-check" class="section">
            <h2>IP LOCATION & SECURITY ANALYSIS</h2>
            <input type="text" id="ip-input" placeholder="Enter IP Address (e.g., 8.8.8.8) or leave blank for your IP">
            <button onclick="getIpLocation()">Analyze IP</button>
           
            <div class="progress-bar">
                <div class="progress-fill" id="progress-bar"></div>
            </div>
           
            <div id="result" class="result-panel"></div>
            <button onclick="backToMenu()">Back to Menu</button>
        </div>
        <!-- IP Generate Section -->
        <div id="ip-generate" class="section">
            <h2>SECURE IP GENERATOR</h2>
            <p>Generate random IP addresses for testing or educational purposes.</p>
            <button onclick="generateRandomIp()">Generate Random IP</button>
            <button onclick="generatePrivateIp()">Generate Private Network IP</button>
           
            <div id="random-ip-result" class="result-panel"></div>
            <button onclick="backToMenu()">Back to Menu</button>
        </div>
        <!-- Privacy Tips Section -->
        <div id="privacy-tips" class="section">
            <h2>DIGITAL PRIVACY TIPS</h2>
            <div class="info-panel">
                <h3>Protect Your Online Identity</h3>
                <ul>
                    <li>Use a VPN to mask your real IP address</li>
                    <li>Enable two-factor authentication on important accounts</li>
                    <li>Regularly clear browser cookies and cache</li>
                    <li>Use privacy-focused browsers like Firefox or Brave</li>
                    <li>Be cautious about sharing personal information online</li>
                    <li>Use password managers to create and store strong passwords</li>
                </ul>
            </div>
           
            <div class="info-panel">
                <h3>Understanding IP Addresses</h3>
                <p>Your IP address can reveal your approximate location and internet service provider. While it doesn't directly identify you, it can be combined with other data to track your online activities.</p>
            </div>
           
            <button onclick="backToMenu()">Back to Menu</button>
        </div>
        <!-- Network Security Scan Section -->
        <div id="network-scan" class="section">
            <h2>NETWORK SECURITY SCAN</h2>
            <p>Check basic information about your current network connection.</p>
            <button onclick="scanNetwork()">Run Security Scan</button>
           
            <div id="network-result" class="result-panel"></div>
            <button onclick="backToMenu()">Back to Menu</button>
        </div>
        <!-- IP Logger Section -->
        <div id="ip-logger" class="section">
            <h2>IP LOGGER</h2>
            <div class="info-panel">
                <p>Create invisible trackers and get notifications about clicks. Generate a short link and share it anywhere.</p>
                <p><strong>Note:</strong> This tool is for educational and security testing purposes only.</p>
            </div>
            
            <div class="url-input-container">
                <input type="text" id="target-url" placeholder="Enter URL to shorten and track (e.g., https://avito.ru)">
                <button onclick="generateTrackingLink()">Create Logger</button>
            </div>
            
            <div id="logger-result" class="result-panel">
                <div id="tracking-link-container" style="display: none;">
                    <h3>YOUR LOGGER IS READY</h3>
                    
                    <div class="tracking-stats">
                        <div class="stat-box">
                            <div class="stat-number" id="views-count">0</div>
                            <div>Views</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-number" id="unique-visitors">0</div>
                            <div>Unique</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-number" id="last-visit">-</div>
                            <div>Last Visit</div>
                        </div>
                    </div>
                    
                    <p>Your tracking link:</p>
                    <div class="short-url" id="tracking-link"></div>
                    
                    <div class="logger-actions">
                        <button onclick="copyTrackingLink()">Copy Link</button>
                        <button onclick="testTrackingLink()">Test Link</button>
                        <button onclick="shareTrackingLink()">Share</button>
                    </div>
                    
                    <div class="info-panel">
                        <h4>TRACKING INFORMATION COLLECTED:</h4>
                        <ul>
                            <li>IP Address & Location</li>
                            <li>Device & Browser Information</li>
                            <li>Referrer URL</li>
                            <li>Visit Time & Date</li>
                        </ul>
                    </div>
                </div>
                
                <div id="logger-data" class="logger-results">
                    <h3>VISITOR LOGS</h3>
                    <button onclick="clearVisitorLog()" style="margin-bottom: 10px;">Clear Log</button>
                    <div id="visitor-list"></div>
                </div>
            </div>
            
            <button onclick="backToMenu()">Back to Menu</button>
        </div>
    </div>
    <script>
        // Section management
        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(section => {
                section.style.display = 'none';
            });
            document.getElementById(sectionId).style.display = 'block';
           
            // Reset results when switching sections
            document.getElementById('result').innerHTML = '';
            document.getElementById('random-ip-result').innerHTML = '';
            document.getElementById('network-result').innerHTML = '';
            document.getElementById('ip-input').value = '';
        }
        
        function backToMenu() {
            showSection('menu');
        }
        
        // Theme toggle functionality
        function toggleTheme() {
            document.body.classList.toggle('light-mode');
           
            if (document.body.classList.contains('light-mode')) {
                document.documentElement.style.setProperty('--neon-cyan', '#0066cc');
                document.documentElement.style.setProperty('--neon-purple', '#6600cc');
                document.documentElement.style.setProperty('--neon-green', '#006600');
                document.documentElement.style.setProperty('--neon-red', '#cc0000');
                document.documentElement.style.setProperty('--neon-blue', '#0000cc');
                document.documentElement.style.setProperty('--dark-bg', '#f0f0f0');
                document.documentElement.style.setProperty('--panel-bg', 'rgba(255, 255, 255, 0.9)');
            } else {
                document.documentElement.style.setProperty('--neon-cyan', '#0ff');
                document.documentElement.style.setProperty('--neon-purple', '#f0f');
                document.documentElement.style.setProperty('--neon-green', '#0f0');
                document.documentElement.style.setProperty('--neon-red', '#f00');
                document.documentElement.style.setProperty('--neon-blue', '#00f');
                document.documentElement.style.setProperty('--dark-bg', '#000');
                document.documentElement.style.setProperty('--panel-bg', 'rgba(0, 0, 0, 0.85)');
            }
        }
        
        // IP location analysis with enhanced functionality
        async function getIpLocation() {
            const ip = document.getElementById('ip-input').value.trim();
            const progressBar = document.getElementById('progress-bar');
            const resultDiv = document.getElementById('result');
           
            // Show loading animation
            progressBar.style.width = '30%';
            resultDiv.innerHTML = '<p>Initializing analysis protocol...</p>';
           
            try {
                progressBar.style.width = '60%';
                resultDiv.innerHTML = '<p>Querying geolocation database...</p>';
               
                const targetIp = ip || ''; // If empty, will fetch current IP
                const response = await fetch(`https://ipapi.co/${targetIp}/json/`);
                const data = await response.json();
               
                progressBar.style.width = '90%';
                resultDiv.innerHTML = '<p>Analyzing security implications...</p>';
               
                if (data.error) {
                    resultDiv.innerHTML = `<p>Error: ${data.reason}</p>`;
                } else {
                    const lat = data.latitude;
                    const lon = data.longitude;
                    const mapsLink = lat && lon ?
                        `<p><a href="https://www.google.com/maps/search/?api=1&query=${lat},${lon}" target="_blank">View on Google Maps</a></p>` : '';
                   
                    // Security assessment
                    let securityLevel = 'UNKNOWN';
                    let securityColor = 'var(--neon-blue)';
                   
                    if (data.org && data.org.toLowerCase().includes('google')) {
                        securityLevel = 'SECURE';
                        securityColor = 'var(--neon-green)';
                    } else if (data.country_code && ['RU', 'CN', 'KP'].includes(data.country_code)) {
                        securityLevel = 'CAUTION ADVISED';
                        securityColor = 'var(--neon-red)';
                    } else {
                        securityLevel = 'MODERATE';
                        securityColor = 'var(--neon-cyan)';
                    }
                   
                    progressBar.style.width = '100%';
                   
                    resultDiv.innerHTML = `
                        <h3>IP ANALYSIS RESULTS</h3>
                        <p><strong>IP Address:</strong> ${data.ip || 'N/A'}</p>
                        <p><strong>Location:</strong> ${data.city || 'N/A'}, ${data.country_name || 'N/A'}</p>
                        <p><strong>ISP/Organization:</strong> ${data.org || 'N/A'}</p>
                        <p><strong>Security Assessment:</strong> <span style="color: ${securityColor}">${securityLevel}</span></p>
                        ${mapsLink}
                        <div class="info-panel" style="margin-top: 15px;">
                            <h4>PRIVACY RECOMMENDATIONS</h4>
                            <p>Based on this analysis, consider using a VPN to protect your privacy and mask your actual location.</p>
                        </div>
                    `;
                }
            } catch (error) {
                progressBar.style.width = '100%';
                resultDiv.innerHTML = '<p>Failed to fetch location data. Check your connection or try again later.</p>';
                console.error(error);
            }
           
            // Reset progress bar after a delay
            setTimeout(() => {
                progressBar.style.width = '0%';
            }, 2000);
        }
        
        // IP generation functions
        function generateRandomIp() {
            const randomIp = Array.from({length: 4}, () => Math.floor(Math.random() * 256)).join('.');
            document.getElementById('random-ip-result').innerHTML = `
                <h3>RANDOM IP GENERATED</h3>
                <p><strong>IP Address:</strong> ${randomIp}</p>
                <div class="info-panel">
                    <p><strong>Note:</strong> This is a randomly generated IP for educational purposes. It may or may not correspond to an actual device on the internet.</p>
                </div>
            `;
        }
        
        function generatePrivateIp() {
            const privateRanges = [
                { network: '10.0.0.0/8', example: '10.' },
                { network: '172.16.0.0/12', example: '172.16.' },
                { network: '192.168.0.0/16', example: '192.168.' }
            ];
           
            const range = privateRanges[Math.floor(Math.random() * privateRanges.length)];
            let ip = '';
           
            if (range.network === '10.0.0.0/8') {
                ip = `10.${Math.floor(Math.random() * 256)}.${Math.floor(Math.random() * 256)}.${Math.floor(Math.random() * 256)}`;
            } else if (range.network === '172.16.0.0/12') {
                ip = `172.${16 + Math.floor(Math.random() * 16)}.${Math.floor(Math.random() * 256)}.${Math.floor(Math.random() * 256)}`;
            } else {
                ip = `192.168.${Math.floor(Math.random() * 256)}.${Math.floor(Math.random() * 256)}`;
            }
           
            document.getElementById('random-ip-result').innerHTML = `
                <h3>PRIVATE NETWORK IP GENERATED</h3>
                <p><strong>IP Address:</strong> ${ip}</p>
                <p><strong>Network Range:</strong> ${range.network}</p>
                <div class="info-panel">
                    <p><strong>Note:</strong> This IP is from a private address range and cannot be routed on the public internet. These addresses are commonly used in home and business networks.</p>
                </div>
            `;
        }
        
        // Network security scan
        async function scanNetwork() {
            const resultDiv = document.getElementById('network-result');
            resultDiv.innerHTML = '<p>Scanning network configuration...</p>';
           
            try {
                // Get current IP information
                const response = await fetch('https://ipapi.co/json/');
                const data = await response.json();
               
                // Check if using HTTPS
                const isSecure = window.location.protocol === 'https:';
               
                // Get browser security information
                const securityInfo = `
                    <h3>NETWORK SECURITY SCAN RESULTS</h3>
                    <p><strong>Your Public IP:</strong> ${data.ip || 'N/A'}</p>
                    <p><strong>Connection Security:</strong> ${isSecure ? 'SECURE (HTTPS)' : 'INSECURE (HTTP)'}</p>
                    <p><strong>Browser Privacy Features:</strong> ${navigator.doNotTrack ? 'ENABLED' : 'DISABLED'}</p>
                    <p><strong>Cookies Enabled:</strong> ${navigator.cookieEnabled ? 'YES' : 'NO'}</p>
                `;
               
                resultDiv.innerHTML = securityInfo;
               
                // Add recommendations
                const recommendations = document.createElement('div');
                recommendations.className = 'info-panel';
                recommendations.innerHTML = `
                    <h4>SECURITY RECOMMENDATIONS</h4>
                    <ul>
                        <li>${isSecure ? '✓ You are using a secure connection' : '✗ Consider enabling HTTPS for secure browsing'}</li>
                        <li>${navigator.doNotTrack ? '✓ Do Not Track is enabled' : '✗ Consider enabling Do Not Track in your browser settings'}</li>
                        <li>${data.org && data.org.toLowerCase().includes('vpn') ? '✓ You appear to be using a VPN' : '✗ Consider using a VPN for enhanced privacy'}</li>
                    </ul>
                `;
               
                resultDiv.appendChild(recommendations);
               
            } catch (error) {
                resultDiv.innerHTML = '<p>Unable to complete network scan. Please check your internet connection.</p>';
                console.error(error);
            }
        }
        
        // IP Logger functionality
        let visitorLog = JSON.parse(localStorage.getItem('ipLoggerVisitors')) || [];
        
        // Generate a unique tracking link
        function generateTrackingLink() {
            const targetUrl = document.getElementById('target-url').value.trim();
            
            if (!targetUrl) {
                alert('Please enter a target URL');
                return;
            }
            
            // Validate URL format
            try {
                new URL(targetUrl);
            } catch (e) {
                alert('Please enter a valid URL (including http:// or https://)');
                return;
            }
            
            const trackingId = 'track-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9);
            const currentUrl = window.location.origin + window.location.pathname;
            
            // Create a short URL (simulated)
            const shortCode = Math.random().toString(36).substr(2, 6);
            const trackingUrl = `${currentUrl}?logger=${shortCode}`;
            
            // Save tracking info to localStorage
            const trackingInfo = {
                id: trackingId,
                shortCode: shortCode,
                targetUrl: targetUrl,
                createdAt: new Date().toISOString(),
                views: 0,
                uniqueVisitors: []
            };
            
            localStorage.setItem(`tracker_${shortCode}`, JSON.stringify(trackingInfo));
            localStorage.setItem('currentTracker', shortCode);
            
            document.getElementById('tracking-link').textContent = trackingUrl;
            document.getElementById('tracking-link-container').style.display = 'block';
            updateTrackingStats();
            
            // Check if we're currently being tracked
            checkIfTracking();
        }
        
        // Copy tracking link to clipboard
        function copyTrackingLink() {
            const linkText = document.getElementById('tracking-link').textContent;
            navigator.clipboard.writeText(linkText).then(() => {
                alert('Tracking link copied to clipboard!');
            }).catch(() => {
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = linkText;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert('Tracking link copied to clipboard!');
            });
        }
        
        // Test the tracking link
        function testTrackingLink() {
            const linkText = document.getElementById('tracking-link').textContent;
            window.open(linkText, '_blank');
        }
        
        // Share tracking link
        function shareTrackingLink() {
            const linkText = document.getElementById('tracking-link').textContent;
            if (navigator.share) {
                navigator.share({
                    title: 'Check this out',
                    text: 'Look at this interesting link',
                    url: linkText,
                });
            } else {
                alert('Web Share API not supported in your browser. Copy the link manually.');
            }
        }
        
        // Update tracking statistics
        function updateTrackingStats() {
            const currentTracker = localStorage.getItem('currentTracker');
            if (!currentTracker) return;
            
            const trackingInfo = JSON.parse(localStorage.getItem(`tracker_${currentTracker}`) || '{}');
            
            document.getElementById('views-count').textContent = trackingInfo.views || 0;
            document.getElementById('unique-visitors').textContent = trackingInfo.uniqueVisitors ? trackingInfo.uniqueVisitors.length : 0;
            
            // Get last visit time
            if (visitorLog.length > 0) {
                const lastVisit = visitorLog[visitorLog.length - 1].timestamp;
                document.getElementById('last-visit').textContent = new Date(lastVisit).toLocaleTimeString();
            }
        }
        
        // Check if this page load is from a tracking link
        function checkIfTracking() {
            const urlParams = new URLSearchParams(window.location.search);
            const loggerCode = urlParams.get('logger');
            
            if (loggerCode) {
                // This is a tracking link visit - log the visitor
                logVisitor(loggerCode);
            }
        }
        
        // Log visitor information
        async function logVisitor(loggerCode) {
            try {
                // Get tracking info
                const trackingInfo = JSON.parse(localStorage.getItem(`tracker_${loggerCode}`) || '{}');
                if (!trackingInfo.targetUrl) {
                    // Invalid tracker
                    return;
                }
                
                // Update tracking stats
                trackingInfo.views = (trackingInfo.views || 0) + 1;
                
                // Get IP and location data
                const response = await fetch('https://ipapi.co/json/');
                const data = await response.json();
                
                // Check if this is a unique visitor
                const visitorIp = data.ip;
                const uniqueVisitors = trackingInfo.uniqueVisitors || [];
                const isUnique = !uniqueVisitors.includes(visitorIp);
                
                if (isUnique) {
                    uniqueVisitors.push(visitorIp);
                    trackingInfo.uniqueVisitors = uniqueVisitors;
                }
                
                // Save updated tracking info
                localStorage.setItem(`tracker_${loggerCode}`, JSON.stringify(trackingInfo));
                
                // Create visitor entry
                const visitor = {
                    id: loggerCode,
                    timestamp: new Date().toISOString(),
                    ip: data.ip,
                    city: data.city,
                    region: data.region,
                    country: data.country_name,
                    isp: data.org,
                    latitude: data.latitude,
                    longitude: data.longitude,
                    userAgent: navigator.userAgent,
                    language: navigator.language,
                    platform: navigator.platform,
                    targetUrl: trackingInfo.targetUrl,
                    unique: isUnique
                };
                
                // Add to log
                visitorLog.push(visitor);
                
                // Save to localStorage
                localStorage.setItem('ipLoggerVisitors', JSON.stringify(visitorLog));
                
                // Update display
                displayVisitors();
                updateTrackingStats();
                
                // Redirect after a short delay
                setTimeout(() => {
                    window.location.href = trackingInfo.targetUrl;
                }, 1000);
            } catch (error) {
                console.error('Error logging visitor:', error);
            }
        }
        
        // Display logged visitors
        function displayVisitors() {
            const visitorList = document.getElementById('visitor-list');
            
            if (visitorLog.length === 0) {
                visitorList.innerHTML = '<p>No visitors logged yet.</p>';
                return;
            }
            
            let html = '';
            // Show latest visitors first
            const reversedLog = [...visitorLog].reverse();
            
            reversedLog.forEach(visitor => {
                const mapsLink = visitor.latitude && visitor.longitude ? 
                    `<p><a href="https://www.google.com/maps/search/?api=1&query=${visitor.latitude},${visitor.longitude}" target="_blank">View on Google Maps</a></p>` : '';
                
                const uniqueBadge = visitor.unique ? '<span style="color: var(--neon-green); margin-left: 10px;">[NEW]</span>' : '';
                const visitTime = new Date(visitor.timestamp).toLocaleString();
                
                html += `
                    <div class="log-entry">
                        <p><strong>Time:</strong> ${visitTime} ${uniqueBadge}</p>
                        <p><strong>IP:</strong> ${visitor.ip}</p>
                        <p><strong>Location:</strong> ${visitor.city || 'N/A'}, ${visitor.region || 'N/A'}, ${visitor.country || 'N/A'}</p>
                        <p><strong>ISP:</strong> ${visitor.isp || 'N/A'}</p>
                        <p><strong>Coordinates:</strong> ${visitor.latitude || 'N/A'}, ${visitor.longitude || 'N/A'}</p>
                        ${mapsLink}
                        <p><strong>Target URL:</strong> <a href="${visitor.targetUrl}" target="_blank">${visitor.targetUrl}</a></p>
                        <p><strong>Platform:</strong> ${visitor.platform}</p>
                        <p><strong>Language:</strong> ${visitor.language}</p>
                    </div>
                `;
            });
            
            visitorList.innerHTML = html;
        }
        
        // Clear visitor log
        function clearVisitorLog() {
            if (confirm('Are you sure you want to clear all visitor logs?')) {
                visitorLog = [];
                localStorage.removeItem('ipLoggerVisitors');
                displayVisitors();
                updateTrackingStats();
            }
        }
        
        // Initialize with some dynamic elements
        document.addEventListener('DOMContentLoaded', function() {
            // Add some interactive elements to the background
            setInterval(() => {
                const streams = document.querySelectorAll('.data-stream');
                streams.forEach(stream => {
                    stream.style.left = `${Math.random() * 90 + 5}%`;
                });
            }, 20000);
            
            // Load saved visitor log
            const savedVisitors = localStorage.getItem('ipLoggerVisitors');
            if (savedVisitors) {
                visitorLog = JSON.parse(savedVisitors);
                displayVisitors();
            }
            
            // Check if we're being tracked
            checkIfTracking();
            
            // Display current tracker if exists
            const currentTracker = localStorage.getItem('currentTracker');
            if (currentTracker) {
                const trackingInfo = JSON.parse(localStorage.getItem(`tracker_${currentTracker}`) || '{}');
                if (trackingInfo.targetUrl) {
                    document.getElementById('target-url').value = trackingInfo.targetUrl;
                    document.getElementById('tracking-link').textContent = 
                        window.location.origin + window.location.pathname + '?logger=' + currentTracker;
                    document.getElementById('tracking-link-container').style.display = 'block';
                    updateTrackingStats();
                }
            }
        });
    </script>
</body>
</html>
